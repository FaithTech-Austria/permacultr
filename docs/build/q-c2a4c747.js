import{l as a,G as t,E as n,h as s,c as l,_ as i,$ as d,x as c,p as w}from"./q-d7faa6cc.js";import{DocumentContext as p}from"./q-c0bc4cdb.js";const f=()=>{const e=new GeoSearch.GeoSearchControl({provider:new GeoSearch.OpenStreetMapProvider,showMarker:!1});window.map.addControl(e)},m=()=>{window.editableLayers=new L.FeatureGroup,window.map.addLayer(window.editableLayers);const e={position:"topleft",draw:{line:!1,circle:!1,rectangle:!1,marker:!1,circlemarker:!1,polyline:!1,polygon:{allowIntersection:!1,drawError:{color:"blue"},shapeOptions:{color:"green"},showArea:!0}},edit:{featureGroup:window.editableLayers,remove:!0}},o=new L.Control.Draw(e);window.map.addControl(o)},_=e=>{const o=L.geoJSON(e,{style:{color:"#ff7800",weight:5,fill:!1,opacity:1}});window.editableLayers.eachLayer(r=>{r.remove()}),o.addTo(window.editableLayers),window.map.fitBounds(o.getBounds())},u=e=>{const o=window.map=L.map("map",{center:[51.505,-.09],zoom:13});L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19}).addTo(o),f(),m(),e.area_of_interest&&_(e.area_of_interest)},y=({track:e})=>{const[o]=a();e(()=>o.value),u(o.value),window.map.on(L.Draw.Event.CREATED,function(r){window.editableLayers.addLayer(r.layer),o.value.area_of_interest=window.editableLayers.toGeoJSON()})},h=()=>{const e=t(p);return n(l(()=>i(()=>Promise.resolve().then(()=>g),void 0),"s_Uohr8ir5rQg",[e])),s(c,{children:d("div",null,{id:"map"},null,3,null)},3,"C0_0")},g=Object.freeze(Object.defineProperty({__proto__:null,_hW:w,s_Uohr8ir5rQg:y,s_tX59VYS3sFI:h},Symbol.toStringTag,{value:"Module"}));export{w as _hW,y as s_Uohr8ir5rQg,h as s_tX59VYS3sFI};
